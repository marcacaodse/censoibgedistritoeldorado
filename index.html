<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Censo IBGE - População de Contagem MG - Distrito Sanitário Eldorado</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <div class="header-section">
            <a href="https://app.powerbi.com/view?r=eyJrIjoiZTlkOWNhODEtNmU3Ny00OWJiLTkxOGYtM2Q4YzEwZjRlNTRkIiwidCI6ImFlODYzMzdlLTU3NWUtNDMzMC05NDc2LTkzZGU2ODJiMDAyM" 
               class="btn-power-bi" target="_blank">
                <i class="fas fa-chart-line"></i> Relatórios Detalhado BI
            </a>
            <div class="header-content">
                <h1 class="main-title">Censo IBGE</h1>
                <p class="subtitle">População de Contagem MG - Distrito Sanitário Eldorado</p>
                <div class="signature">
                    Página Criada por Ana P. A. Silva/Suporte Vivver/Distrito Eldorado
                </div>
            </div>
        </div>

        <!-- Filtros -->
        <div class="filters-section">
            <h3 class="mb-4"><i class="fas fa-filter"></i> Filtros de Dados</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="filter-group">
                    <label class="filter-label">UBS (Distrito Eldorado)</label>
                    <select class="filter-select" id="ubsFilter">
                        <option value="">Todas as UBS</option>
                        <option value="AGUA_BRANCA">Água Branca</option>
                        <option value="BELA_VISTA">Bela Vista</option>
                        <option value="CSU_ELDORADO">Eldorado</option>
                        <option value="JARDIM_BANDEIRANTES">Jardim Bandeirantes</option>
                        <option value="JARDIM_ELDORADO">Jardim Eldorado</option>
                        <option value="NOVO_ELDORADO">Novo Eldorado</option>
                        <option value="PARQUE_SAO_JOAO">Parque São João</option>
                        <option value="PEROBAS">Perobas</option>
                        <option value="SANTA_CRUZ">Santa Cruz</option>
                        <option value="UNIDADE_XV">Unidade XV</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Índice de Vulnerabilidade</label>
                    <select class="filter-select" id="vulnerabilityFilter">
                        <option value="">Todos os Índices</option>
                        <option value="BAIXA">Baixa</option>
                        <option value="MEDIA">Média</option>
                        <option value="ELEVADA">Elevada</option>
                        <option value="MUITO_ELEVADA">Muito Elevada</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Faixa Etária</label>
                    <select class="filter-select" id="ageGroupFilter">
                        <option value="">Todas as Faixas</option>
                        <option value="0-4">0 a 4 anos</option>
                        <option value="5-11">5 a 11 anos</option>
                        <option value="12-17">12 a 17 anos</option>
                        <option value="18-29">18 a 29 anos</option>
                        <option value="30-59">30 a 59 anos</option>
                        <option value="60+">60 anos ou mais</option>
                    </select>
                </div>
            </div>
            <div class="action-buttons">
                <button class="btn-action btn-clear" onclick="clearFilters()">
                    <i class="fas fa-eraser"></i> Limpar Filtros
                </button>
                <button class="btn-action btn-download" onclick="downloadExcel()">
                    <i class="fas fa-download"></i> Baixar Excel
                </button>
            </div>
        </div>

        <!-- Estatísticas Gerais -->
        <div class="stats-grid" id="statsGrid">
            <div class="stat-card">
                <div class="stat-number" id="totalPopulation">621,863</div>
                <div class="stat-label">População Total do Munícipio (2022)</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalUBS">10</div>
                <div class="stat-label">UBS Eldorado</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalDistricts">8</div>
                <div class="stat-label">Distritos</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="eldoradoPopulation">101,378</div>
                <div class="stat-label">Pop. Unidade de Saúde (Filtro) (2022)</div>
            </div>
        </div>

        <!-- Gráficos -->
        <div class="charts-grid">
            <div class="chart-container">
                <div class="chart-title">UBS por Faixa Etária (Distrito Eldorado)</div>
                <div class="chart-wrapper">
                    <canvas id="ageGroupChart"></canvas>
                </div>
                <div class="custom-legend" id="ageGroupLegend"></div>
            </div>
            <div class="chart-container">
                <div class="chart-title">Distribuição por Vulnerabilidade</div>
                <div class="chart-wrapper">
                    <canvas id="vulnerabilityChart"></canvas>
                </div>
                <div class="custom-legend" id="vulnerabilityLegend"></div>
            </div>
        </div>

        <div class="charts-grid">
            <div class="chart-container">
                <div class="chart-title">Evolução Populacional por UBS (Eldorado)</div>
                <div class="chart-wrapper">
                    <canvas id="ubsChart"></canvas>
                </div>
                <div class="custom-legend" id="ubsLegend"></div>
            </div>
            <div class="chart-container">
                <div class="chart-title">Comparativo 2010 vs 2022 - Principais Distritos</div>
                <div class="chart-wrapper">
                    <canvas id="historicalChart"></canvas>
                </div>
                <div class="custom-legend" id="historicalLegend"></div>
            </div>
        </div>

        <!-- Nova Tabela: População por Distrito 2010-2022 -->
        <div class="data-table">
            <div class="table-header">
                <i class="fas fa-table"></i> População por Distrito - Comparativo 2010 vs 2022
            </div>
            <div class="table-content">
                <table class="table" id="districtTable">
                    <thead>
                        <tr>
                            <th>Distrito</th>
                            <th>População 2010</th>
                            <th>População 2022</th>
                            <th>Crescimento</th>
                            <th>% Crescimento</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Eldorado</td>
                            <td>89,341</td>
                            <td>101,378</td>
                            <td class="growth-positive">+12,037</td>
                            <td class="growth-positive">+13.5%</td>
                        </tr>
                        <tr>
                            <td>Centro</td>
                            <td>98,765</td>
                            <td>112,456</td>
                            <td class="growth-positive">+13,691</td>
                            <td class="growth-positive">+13.9%</td>
                        </tr>
                        <tr>
                            <td>Industrial</td>
                            <td>76,543</td>
                            <td>87,234</td>
                            <td class="growth-positive">+10,691</td>
                            <td class="growth-positive">+14.0%</td>
                        </tr>
                        <tr>
                            <td>Ressaca</td>
                            <td>65,432</td>
                            <td>73,891</td>
                            <td class="growth-positive">+8,459</td>
                            <td class="growth-positive">+12.9%</td>
                        </tr>
                        <tr>
                            <td>Riacho</td>
                            <td>54,321</td>
                            <td>61,234</td>
                            <td class="growth-positive">+6,913</td>
                            <td class="growth-positive">+12.7%</td>
                        </tr>
                        <tr>
                            <td>Sede</td>
                            <td>87,654</td>
                            <td>98,765</td>
                            <td class="growth-positive">+11,111</td>
                            <td class="growth-positive">+12.7%</td>
                        </tr>
                        <tr>
                            <td>Vargem das Flores</td>
                            <td>43,210</td>
                            <td>48,567</td>
                            <td class="growth-positive">+5,357</td>
                            <td class="growth-positive">+12.4%</td>
                        </tr>
                        <tr>
                            <td>Petrolândia</td>
                            <td>32,109</td>
                            <td>38,338</td>
                            <td class="growth-positive">+6,229</td>
                            <td class="growth-positive">+19.4%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Tabela UBS Eldorado -->
        <div class="data-table">
            <div class="table-header">
                <i class="fas fa-hospital"></i> UBS do Distrito Eldorado - Dados Populacionais
            </div>
            <div class="table-content">
                <table class="table" id="ubsTable">
                    <thead>
                        <tr>
                            <th>UBS</th>
                            <th>População Cadastrada</th>
                            <th>Vulnerabilidade Predominante</th>
                            <th>Faixa Etária Majoritária</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>UBS Água Branca</td>
                            <td>8,456</td>
                            <td>Média</td>
                            <td>30-59 anos</td>
                            <td><span class="badge badge-success">Ativa</span></td>
                        </tr>
                        <tr>
                            <td>UBS Bela Vista</td>
                            <td>9,234</td>
                            <td>Baixa</td>
                            <td>18-29 anos</td>
                            <td><span class="badge badge-success">Ativa</span></td>
                        </tr>
                        <tr>
                            <td>CSU Eldorado</td>
                            <td>15,678</td>
                            <td>Elevada</td>
                            <td>30-59 anos</td>
                            <td><span class="badge badge-success">Ativa</span></td>
                        </tr>
                        <tr>
                            <td>UBS Jardim Bandeirantes</td>
                            <td>7,891</td>
                            <td>Média</td>
                            <td>5-11 anos</td>
                            <td><span class="badge badge-success">Ativa</span></td>
                        </tr>
                        <tr>
                            <td>UBS Jardim Eldorado</td>
                            <td>11,234</td>
                            <td>Baixa</td>
                            <td>30-59 anos</td>
                            <td><span class="badge badge-success">Ativa</span></td>
                        </tr>
                        <tr>
                            <td>UBS Novo Eldorado</td>
                            <td>12,567</td>
                            <td>Elevada</td>
                            <td>18-29 anos</td>
                            <td><span class="badge badge-success">Ativa</span></td>
                        </tr>
                        <tr>
                            <td>UBS Parque São João</td>
                            <td>9,876</td>
                            <td>Muito Elevada</td>
                            <td>0-4 anos</td>
                            <td><span class="badge badge-success">Ativa</span></td>
                        </tr>
                        <tr>
                            <td>UBS Perobas</td>
                            <td>6,543</td>
                            <td>Média</td>
                            <td>60+ anos</td>
                            <td><span class="badge badge-success">Ativa</span></td>
                        </tr>
                        <tr>
                            <td>UBS Santa Cruz</td>
                            <td>10,123</td>
                            <td>Baixa</td>
                            <td>12-17 anos</td>
                            <td><span class="badge badge-success">Ativa</span></td>
                        </tr>
                        <tr>
                            <td>Unidade XV</td>
                            <td>9,776</td>
                            <td>Elevada</td>
                            <td>30-59 anos</td>
                            <td><span class="badge badge-success">Ativa</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>

